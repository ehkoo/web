---
layout: ../../layouts/Post.astro
title: 'CÃ³ gÃ¬ hot? Tuáº§n 38 - 2022'
date: 2022-09-24
cover: https://res.cloudinary.com/duqeezi8j/image/upload/f_auto/v1663658758/ehkoo/newsletters/w38-2022.png
tags: Newsletter
excerpt: 'Wasmtime, Qwik, MemLab, vÃ  vÃ i thá»© linh tinh khÃ¡c'
author: kcjpop
---

![](https://res.cloudinary.com/duqeezi8j/image/upload/f_auto/v1663658758/ehkoo/newsletters/w38-2022.png)

## Wasmtime ra báº£n 1.0

![](https://res.cloudinary.com/duqeezi8j/image/upload/f_auto/v1663924691/ehkoo/bytecode-alliance-logo.svg)

Wasmtime, má»™t trong nhá»¯ng trÃ¬nh thá»±c thi (runtime) Web Assembly phá»• biáº¿n nháº¥t, [vá»«a ra báº£n 1.0](https://bytecodealliance.org/articles/wasmtime-1-0-fast-safe-and-production-ready). Máº·c dÃ¹ Wasmtime Ä‘Æ°á»£c coi nhÆ° Ä‘Ã£ sáºµn sÃ ng cho production khoáº£ng 1 nÄƒm vá» trÆ°á»›c rá»“i, nhÆ°ng vÃ i cÃ´ng ty nhÆ° Shopify, Fastly, Microsoft, etc. trong há»™i Bytecode Alliance quyáº¿t Ä‘á»‹nh chÆ¡i lá»›n báº±ng cÃ¡ch cho cháº¡y tháº³ng lÃªn production luÃ´n Ä‘á»ƒ xem hiá»‡u suáº¥t ra sao. May máº¯n lÃ  chÆ°a banh server vÃ  Wasmtime chá»©ng minh Ä‘Æ°á»£c kháº£ nÄƒng siÃªu nhanh siÃªu an toÃ n cá»§a nÃ³.

NhÆ°ng mÃ  Wasmtime Ä‘á»ƒ lÃ m gÃ¬ ha? Wasmtime cho phÃ©p báº¡n cháº¡y Web Assembly bÃªn ngoÃ i trÃ¬nh duyá»‡t luÃ´n, tá»« Ä‘Ã³ má»Ÿ ra bao nhiÃªu á»©ng dá»¥ng, cháº³ng háº¡n nhÆ°:

- **Microservices vÃ  serverless,** vÃ¬ Web Assembly cÃ³ thá»i gian khá»Ÿi Ä‘á»™ng nhanh hÆ¡n ráº¥t nhiá»u so vá»›i JS isolates, containers, hay VMs.

- **Cháº¡y code cá»§a bÃªn thá»© ba má»™t cÃ¡ch an toÃ n,** vÃ¬ Web Assembly Ä‘Æ°á»£c sandbox ngay tá»« Ä‘áº§u vÃ  chá»‰ cÃ³ thá»ƒ truy xuáº¥t tÃ i nguyÃªn khi Ä‘Æ°á»£c cáº¥p phÃ©p má»™t cÃ¡ch tÆ°á»ng minh.

- **LÃ  mÃ´i trÆ°á»ng Ä‘á»ƒ thá»±c thi User Defined Functions (UDFs) bÃªn trong cÆ¡ sá»Ÿ dá»¯ liá»‡u:** [ScyllaDB](https://www.scylladb.com/) vÃ  [TiDB](https://github.com/pingcap/tidb) sá»­ dá»¥ng Wasmtime Ä‘á»ƒ cháº¡y cÃ¡c hÃ m do ngÆ°á»i dÃ¹ng Ä‘á»‹nh nghÄ©a. Lá»£i tháº¿ á»Ÿ Ä‘Ã¢y lÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ sá»­ dá»¥ng báº¥t cá»© ngÃ´n ngá»¯ nÃ o, dÃ¹ cho Ä‘Ã³ lÃ  JavaScript, Rust, Python hay Golang, miá»…n sao nÃ³ cÃ³ cáº§u ná»‘i vá»›i Wasmtime lÃ  Ä‘Ã£ tÆ°Æ¡ng tÃ¡c Ä‘Æ°á»£c trá»±c tiáº¿p vá»›i database rá»“i. Nhá» váº­y, chÃºng ta cÃ³ thá»ƒ Ä‘Æ°a business logic vÃ o tháº³ng database, giáº£m thá»i gian chuyá»ƒn táº£i dá»¯ liá»‡u qua láº¡i giá»¯a á»©ng dá»¥ng vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u.

VÃ  cÃ²n nhiá»u Æ°u Ä‘iá»ƒm ná»¯a mÃ  cháº¯c Ehkoo nÃªn lÃ m má»™t bÃ i viáº¿t riÃªng vá» Web Assembly vÃ  Wasmtime ğŸ˜…

Hiá»‡n táº¡i báº¡n cÃ³ thá»ƒ nhÃºng Wasmtime vÃ o cÃ¡c á»©ng dá»¥ng Rust, C/C++, Python, .NET, vÃ  Go. Sau phiÃªn báº£n 1.0, nhÃ³m phÃ¡t triá»ƒn Wasmtime dá»± kiáº¿n sáº½ phÃ¡t hÃ nh Ä‘á»u Ä‘áº·n hÆ¡n, khoáº£ng 1 thÃ¡ng 1 láº§n.

## Qwik vÃ  Qwik City ra báº£n beta

![](https://res.cloudinary.com/duqeezi8j/image/upload/f_auto/v1663924777/ehkoo/assets_2FYJIGb4i01jvw0SRdL5Bt_2F5f8db18f68c74f6f9919f3877b6246b4.webp)

NhÃ³m phÃ¡t triá»ƒn [Qwik](https://qwik.builder.io/) vá»«a [thÃ´ng bÃ¡o](https://www.builder.io/blog/qwik-and-qwik-city-have-reached-beta) Qwik vÃ  Qwik City Ä‘Ã£ á»Ÿ giai Ä‘oáº¡n beta. NghÄ©a lÃ  cÃ¡c chá»©c nÄƒng vÃ  API chÃ­nh Ä‘Ã£ hoÃ n thÃ nh vÃ  á»•n Ä‘á»‹nh, cÃ¡c tÃ i liá»‡u ká»¹ thuáº­t Ä‘Ã£ Ä‘Æ°á»£c viáº¿t hoÃ n táº¥t, vÃ  khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ cáº£n trá»Ÿ viá»‡c sá»­ dá»¥ng Qwik trÃªn production.

Tháº­t ra Ehkoo cÅ©ng má»›i biáº¿t Ä‘áº¿n Qwik gáº§n Ä‘Ã¢y. Qwik cho phÃ©p xÃ¢y dá»±ng á»©ng dá»¥ng web báº±ng cÃ¡c components giá»‘ng nhÆ° React, nhÆ°ng táº­p trung hÆ¡n vá» server-side rendering (SSR). Má»™t component cá»§a Qwik sáº½ giá»‘ng nhÆ° tháº¿ nÃ y:

```jsx
import { component$, useStore } from '@builder.io/qwik'

export const MyComponent = component$((props) => {
  const state = useStore({ count: 0 })

  return (
    <div>
      <p>
        Hello {props.name}: {state.count}
      </p>
      <button
        onClick$={() => {
          state.count++
        }}>
        Increment
      </button>
    </div>
  )
})
```

Qwik Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ cÃ³ thá»ƒ chá»‰ táº¡o ra HTML nhÆ° sáº£n pháº©m cuá»‘i cÃ¹ng, gáº§n nhÆ° khÃ´ng kÃ¨m theo JavaScript, nhÆ°ng váº«n cÃ³ thá»ƒ chuyá»ƒn thÃ nh má»™t á»©ng dá»¥ng vá»›i Ä‘áº§y Ä‘á»§ tÆ°Æ¡ng tÃ¡c, ká»ƒ cáº£ khi máº¡ng cháº­m hay trÃªn thiáº¿t bá»‹ cÃ³ pháº§n cá»©ng háº¡n cháº¿. Táº¥t cáº£ lÃ  nhá» vÃ o _resumability_ thay vÃ¬ _hydration_ ğŸ‘‡

> Theo Qwik thÃ¬ váº¥n Ä‘á» vá»›i _hydration_ náº±m á»Ÿ chá»—, máº·c dÃ¹ á»©ng dá»¥ng Ä‘Ã£ cÃ³ HTML (Ä‘Æ°á»£c táº¡o ra bá»Ÿi SSR hay SSG), ngÆ°á»i dÃ¹ng váº«n pháº£i download toÃ n bá»™ JavaScript cÃ¹ng vá»›i tráº¡ng thÃ¡i hiá»‡n táº¡i (_state_) cá»§a app vá», sau Ä‘Ã³ thá»±c thi JS Ä‘á»ƒ gáº¯n cÃ¡c hÃ m xá»­ lÃ½ sá»± kiá»‡n (_event handlers_) vÃ o nÃºt DOM tÆ°Æ¡ng á»©ng. Nhá»¯ng thao tÃ¡c nÃ y dÆ° thá»«a khÃ´ng Ä‘Ã¡ng cÃ³ vÃ¬ client pháº£i khá»Ÿi táº¡o láº¡i nhá»¯ng gÃ¬ server Ä‘Ã£ biáº¿t.
>
> Qwik giáº£i quyáº¿t váº¥n Ä‘á» trÃªn báº±ng cÃ¡ch khai bÃ¡o má»™t hÃ m xá»­ lÃ½ toÃ n cá»¥c Ä‘á»ƒ báº¯t táº¥t cáº£ sá»± kiá»‡n xáº£y ra trong app. Khi má»™t sá»± kiá»‡n Ä‘Æ°á»£c kÃ­ch hoáº¡t, hÃ m toÃ n cá»¥c nÃ y sáº½ dá»±a vÃ o tráº¡ng thÃ¡i cá»§a á»©ng dá»¥ng Ä‘á»ƒ khá»Ÿi táº¡o láº¡i event handler tÆ°Æ¡ng á»©ng _má»™t cÃ¡ch lÆ°á»i biáº¿ng_. Qwik gá»i Ä‘Ã¢y lÃ  _resumability (kháº£ nÄƒng há»“i phá»¥c)_. Báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm chi tiáº¿t [á»Ÿ Ä‘Ã¢y](https://www.builder.io/blog/hydration-is-pure-overhead).

CÃ²n Qwik City lÃ  má»™t _meta framework_ Ä‘á»ƒ lÃ m á»©ng dá»¥ng vá»›i Qwik, bao gá»“m: Ä‘iá»u hÆ°á»›ng (_routing_) dá»±a vÃ o cáº¥u trÃºc thÆ° má»¥c, fetch dá»¯ liá»‡u, tá»‘i Æ°u hÃ³a bundle, prefetching, streaming, vÃ  kÃ¨m theo kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c HÃ m Cáº¡nh (_Edge Functions_) cá»§a nhiá»u nhÃ  cung cáº¥p khÃ¡c nhau. Nghe ráº¥t giá»‘ng kiá»ƒu cá»§a Next.js, Nuxt, hay SvelteKit ha.

Team Qwik thÃ¬ toÃ n "cÃ¢y Ä‘a cÃ¢y Ä‘á»" cá»§a cá»™ng Ä‘á»“ng Angular/ Stecil/ Ionnic nÃªn báº¡n Ä‘á»«ng báº¥t ngá» khi tháº¥y cÃ³ nÃ©t hao hao Angular Ä‘Ã¢u Ä‘Ã¢y nha. Team nÃ y cÅ©ng Ä‘á»©ng Ä‘áº±ng sau [`partytown`](https://www.npmjs.com/package/@builder.io/partytown), má»™t thÆ° viá»‡n giÃºp Ä‘áº©y cÃ¡c scripts tá»« bÃªn thá»© ba xuá»‘ng web worker.

## TokenCSS

Vá»«a xuáº¥t hiá»‡n tuáº§n qua, [TokenCSS](https://tokencss.com/) lÃ  má»™t plugin cá»§a PostCSS cho phÃ©p báº¡n sá»­ dá»¥ng design tokens trong cÃ¡c táº­p tin CSS cá»§a dá»± Ã¡n. NÃ³i ngáº¯n gá»n thÃ¬, báº¡n khai bÃ¡o cÃ¡c token dÆ°á»›i dáº¡ng JSON:

```json
{
  "extends": ["@tokencss/core"],
  "color": {
    "gray": {
      "0": { "value": "#f8f9fa" },
      "1": { "value": "#f1f3f5" },
      "2": { "value": "#e9ecef" },
      â€¦
    },
    "space": {
      "2xs": { "value": ".25rem" },
      "xs": { "value": ".5rem" },
      "sm": { "value": "1rem" },
      "md": { "value": "1.25rem" },
      â€¦
    },
    "size": {
      "full": { "value": "100%" },
      "2xs": { "value": ".25rem" },
      "xs": { "value": ".5rem" },
      "sm": { "value": "1rem" },
      â€¦
    },
  },
}
```

Sau Ä‘Ã³ trong táº­p tin CSS:

```css
.box {
  background: gray.2;
  border-radius: md;
  width: sm;
  height: sm;
}
```

TokenCSS sáº½ thay tháº¿ nhá»¯ng token trÃªn báº±ng biáº¿n CSS tÆ°Æ¡ng á»©ng.

Hiá»‡n táº¡i thÃ¬ TokenCSS váº«n Ä‘ang trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn nÃªn sáº½ cÃ²n lá»—i nÃ y ná». Tuy nhiÃªn cÅ©ng Ä‘Ã¡ng Ä‘á»ƒ quan tÃ¢m Ä‘Ãºng hÃ´ng nÃ¨?

## Tin váº¯n

- Meta vá»«a má»Ÿ mÃ£ nguá»“n cá»§a [MemLab](https://engineering.fb.com/2022/09/12/open-source/memlab/), má»™t cÃ´ng cá»¥ giÃºp phÃ¡t hiá»‡n rÃ² rá»‰ bá»™ nhá»› trong á»©ng dá»¥ng JavaScript

- [John-David Dalton](https://twitter.com/jdalton/status/1571863497969119238) vá»«a thÃ´ng bÃ¡o trÃªn Twitter sáº½ viáº¿t láº¡i [`lodash`](https://lodash.com/) báº±ng TypeScript vÃ  rollup. Báº£n viáº¿t láº¡i sáº½ khÃ´ng cÃ³ `lodash/fp`, vÃ¬ "That fad is over."

## Äá»c gÃ¬ cuá»‘i tuáº§n?

- [Cache your CORS, for performance & profit](https://httptoolkit.tech/blog/cache-your-cors/): BÃ i viáº¿t giá»›i thiá»‡u cÃ¡ch lÆ°u bá»™ Ä‘á»‡m cho cÃ¡c CORS requests, giÃºp trÃ¬nh duyá»‡t khÃ´ng pháº£i gá»­i requests dÆ° thá»«a vÃ  giáº£m táº£i cho backend. Äáº·c biá»‡t há»¯u Ã­ch khi APIs cá»§a báº¡n viáº¿t báº±ng serverless vÃ  tÃ­nh tiá»n dá»±a vÃ o sá»‘ requests ğŸ’¸

- [React I Love You, But You're Bringing Me Down](https://marmelab.com/blog/2022/09/20/react-i-love-you.html): ThÆ° tÃ¬nh gá»­i React cá»§a FranÃ§ois Zaninotto, tÃ¡c giáº£ cá»§a ` react-admin`. Äá»c mÃ  Ä‘á»“ng (tráº§m) cáº£m vá»›i nhá»¯ng ná»—i Ä‘au cá»§a tÃ¡c giáº£ khi lÃ m viá»‡c vá»›i React luÃ´n.

- [Will Serving Real HTML Content Make A Website Faster? Let's Experiment!](https://blog.webpagetest.org/posts/will-html-content-make-site-faster): [Scott Jehl](https://twitter.com/scottjehl) thá»­ nghiá»‡m vá»›i Twitter vÃ  AirBnB Ä‘á»ƒ xem náº¿u website chá»‰ tráº£ vá» thuáº§n HTML thÃ¬ cÃ³ nhanh hÆ¡n so vá»›i dÃ¹ng JavaScript Ä‘á»ƒ táº¡o HTML trÃªn trang khÃ´ng. Káº¿t luáº­n lÃ  dÄ© nhiÃªn nhanh hÆ¡n, nhÆ°ng lÃ m sao Ä‘á»ƒ cÃ¡c trang Ä‘Ã³ cÃ³ Ä‘á»™ tÆ°Æ¡ng tÃ¡c tá»‘t láº¡i lÃ  má»™t cÃ¢u chuyá»‡n khÃ¡c. Vá»›i sá»± xuáº¥t hiá»‡n cá»§a nhá»¯ng server-first frameworks nhÆ° Next.js, Astro, Remix hay má»›i nháº¥t lÃ  Qwik, hi vá»ng bÃ i toÃ¡n nÃ y sáº½ cÃ³ lá»i giáº£i trong tÆ°Æ¡ng lai gáº§n.

## Káº¿t

Tuáº§n 38 khÃ©p láº¡i vá»›i sá»± xuáº¥t hiá»‡n cá»§a Qwik vÃ  TokenCSS. Háº¹n gáº·p láº¡i cÃ¡c báº¡n á»Ÿ tuáº§n sau nheee. BÃ¡i bai ğŸ‘‹
